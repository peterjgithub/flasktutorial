{% extends "public/templates/public_template.html" %}
{% import "macros/input_macros.html" as im %}

{% block title %}Jinja{% endblock %}

{% block main %} 
<div class="container">
  <div class="row">
    <div class="col">
      <h1>Jinja templates</h1>
      <hr>
      <h4>Variables</h4>
      <hr>
      <p>My name : {{ my_name }}</p>

      <h4>Looping in Data Structures</h4>
      <hr>
      <a href="https://thomas-cokelaer.info/tutorials/python/data_structures.html">Python Data Structures (list, dict, tuples, sets, strings)</a>
      <p></p>
      
      <h4>Looping in lang (list)</h4>
      <hr>
      <ul>
        {% for lang in langs %}
        <li>{{ lang }}</li>
        {% endfor %}

        <p>(also see: join in Template filters:)</p>
        <p>join : {{ langs|join(" + ") }}</p>
        <p>(list without join: {{ langs }})</p>

      </ul>

      <h4>Looping with lang index</h4>
      <hr>
      <ul>
        {% for lang in langs %}
        <!-- <li>{{ loop.index }}: {{ lang }}</li> -->
        <li>{{ loop.index0 }}: {{ lang }}</li>
        {% endfor %}
      </ul>

      <h4>Looping through friends dict. items</h4>
      <hr>
      <ul>
        {% for k in friends.items() %}
        <li>{{ k }}</li>
        {% endfor %}
      </ul>

      <h4>Looping a friends dict</h4>
      <hr>
      <ul>
        {% for k, v in friends.items() %}
        <li>{{ k }}: {{ v }}</li>
        {% endfor %}
      </ul>

      <h4>Looping a friends keys (dict without age)</h4>
      <hr>
      <ul>
        {% for k in friends.keys() %}
        <li>{{ k }}</li>
        {% endfor %}
      </ul>
      <!-- same for values is possible -->

      <h4>Access a list member</h4>
      <hr>
      <p>{{ langs[0] }}</p>

      <h4>Access a dict member</h4>
      <hr>
      <p>{{ friends["Tom"] }}</p>

      <h4>Access class attributes</h4>
      <hr>
      <p>name: {{ my_remote.name }}</p>
      <p>description: {{ my_remote.description }}</p>
      <p>url: {{ my_remote.url }}</p>

      <h4>Looping through a Tuple</h4>
      <hr>
      <p>colours:</p>
      <ul>
        {% for col in colours %}
        <li>{{ col }}</li>
        {% endfor %}
      </ul>

      <h4>Unpack variables</h4>
      <hr>
      <p>{% set a,b = colours %}</p>
      <p>{{ a }}</p>
      <p>{{ b }}</p>

      <h4>Call a function</h4>
      <hr>
      <p>{{ repeat("FLASK IS AWESOME ", 10) }}</p>

      <h4>Call a class method</h4>
      <hr>
      <p>{{ my_remote.clone() }}</p>

      <h4>Conditionals</h4>
      <hr>
      {% if cool %}
        <p>Cool is {{ cool }}</p>
      {% endif %}

      <h4>Comparisons</h4>
      <hr>
      {% if age < 18 %}
        <p>No entry</p>
      {% elif age < 26 %}
        <p>Nearly old enough</p>
      {% else %}
        <p>You may enter</p>
      {% endif %}

      <h4>Math</h4>
      <hr>
      <p>Age/2 = {{ age / 2 }}</p>

      <h4>standard Template filters</h4>
      <hr>
      <p>length of langs = {{ langs|length }}</p>
      <p>length of colours = {{ colours|length }}</p>
      <p>length of friends = {{ friends|length }}</p>
      <p>my name reversed = {{ my_name|reverse }}</p>
      <p>my name in upper = {{ my_name|upper }}</p>
      <p>join : {{ langs|join(" + ") }}</p>
      <p>(list without join: {{ langs }})</p>
      <a href="https://flask.palletsprojects.com/en/1.1.x/templating/#standard-filters">More Template filter info here</a>

      <h4>create Custom filters</h4>
      <hr>
      <p>date: {{ date|clean_date }}</p>

      <h4>Escaping (=executing code insert)</h4>
      <hr>
      <p>my_html:</p>
      <p>{{ my_html }}</p>
      <p>my_html|safe:</p>
      <p>{{ my_html|safe }}</p>

      <h4>Escaping 2</h4>
      <hr>
      <p>suspicious:</p>
      <p>{{ suspicious }}</p>
      <p>suspicious|safe:</p>
      <!-- <p>{{ suspicious|safe }}</p> -->

      <h4>Macros</h4>
      <hr>
      {{ im.input(label="Your name", name="name", id="name", placeholder="Please enter your name") }}
      {{ im.input(label="Age", type="number", name="age", id="age", placeholder="Please enter your age") }}
      {{ im.input(label="Password", type="password", name="password", id="password", placeholder="Please enter your password") }}

    </div>
  </div>
  <hr>
</div>
{% endblock %}